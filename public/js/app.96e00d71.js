(function(){"use strict";var t={493:function(t,e,a){var s=a(6369),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],i={components:{}},r=i,l=a(1001),c=(0,l.Z)(r,o,n,!1,null,null,null),d=c.exports,u=a(2631),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home static"},[e("AppNavBarVue"),e("div",{staticClass:"container mx-auto mt-5 flex justify-end"},[e("button",{staticClass:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",on:{click:function(e){t.showModal=!0,t.modalTitle="New Contact"}}},[t._v(" Add new contact ")])]),e("t-alert",{attrs:{variant:t.alertVariant,show:t.showAlert,timeout:1e3}},[t._v(" "+t._s(t.textAlert)+" ")]),e("div",{staticClass:"container mx-auto"},[e("div",{staticClass:"flex flex-col"},[e("div",{staticClass:"overflow-x-auto sm:-mx-6 lg:-mx-8"},[e("div",{staticClass:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},[e("div",{staticClass:"overflow-hidden"},[e("table",{staticClass:"min-w-full text-left text-sm font-light"},[e("thead",{staticClass:"border-b font-medium dark:border-neutral-500"},[e("tr",t._l(t.fields,(function(a,s){return e("th",{key:s,staticClass:"px-6 py-4",attrs:{scope:"col"}},[t._v(" "+t._s(a.label)+" ")])})),0)]),e("tbody",t._l(t.contacts,(function(a){return e("tr",{key:a.id,staticClass:"border-b transition duration-300 ease-in-out hover:bg-neutral-100 dark:border-neutral-500 dark:hover:bg-neutral-600"},[e("td",{staticClass:"whitespace-nowrap px-6 py-4 font-medium"},[t._v(" "+t._s(a.id)+" ")]),e("td",{staticClass:"whitespace-nowrap px-6 py-4"},[t._v(" "+t._s(a.first_name)+" ")]),e("td",{staticClass:"whitespace-nowrap px-6 py-4"},[t._v(" "+t._s(a.last_name)+" ")]),e("td",{staticClass:"whitespace-nowrap px-6 py-4"},[t._v(" "+t._s(a.phone)+" ")]),e("td",{staticClass:"whitespace-nowrap px-6 py-4"},[t._v(" "+t._s(a.email)+" ")]),e("td",{staticClass:"whitespace-nowrap px-6 py-4 flex justify-between"},[e("button",{staticClass:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",on:{click:function(e){return t.getContactInformation(a.id)}}},[e("svg",{staticClass:"icon icon-tabler icon-tabler-eye",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#0a58ca",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[e("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),e("path",{attrs:{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}}),e("path",{attrs:{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"}})])]),e("button",{staticClass:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",on:{click:function(e){return t.openUpdateModal(a)}}},[e("svg",{staticClass:"icon icon-tabler icon-tabler-edit",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#0a58ca",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[e("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),e("path",{attrs:{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}}),e("path",{attrs:{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}}),e("path",{attrs:{d:"M16 5l3 3"}})])]),e("button",{staticClass:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",on:{click:function(e){return t.deleteContact(a.id)}}},[e("svg",{staticClass:"icon icon-tabler icon-tabler-trash",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#0a58ca",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[e("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),e("path",{attrs:{d:"M4 7l16 0"}}),e("path",{attrs:{d:"M10 11l0 6"}}),e("path",{attrs:{d:"M14 11l0 6"}}),e("path",{attrs:{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}}),e("path",{attrs:{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}})])])])])})),0)])])])])])]),e("t-modal",{attrs:{header:t.modalTitle},on:{"before-close":function(e){return t.closeModal()}},scopedSlots:t._u([t.viewContactInfo?null:{key:"footer",fn:function(){return[e("div",{staticClass:"flex justify-end"},[t.update?e("button",{staticClass:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",attrs:{type:"submit"},on:{click:function(e){return t.updateContact()}}},[t._v(" Update ")]):e("button",{staticClass:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",attrs:{type:"submit"},on:{click:function(e){return t.addNewContact()}}},[t._v(" Save ")])])]},proxy:!0}],null,!0),model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[e("form",[e("div",{staticClass:"space-y-12"},[e("div",{staticClass:"border-b border-gray-900/10 pb-12"},[e("h2",{staticClass:"text-base font-semibold leading-7 text-gray-900"},[t._v(" Contact Information ")]),t.viewContactInfo?t._e():e("p",{staticClass:"mt-1 text-sm leading-6 text-gray-600"},[t._v(" Add the required fields marked with "),e("span",{staticClass:"text-red-700"},[t._v("*.")])]),e("div",{staticClass:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},[e("div",{staticClass:"sm:col-span-6"},[e("label",{staticClass:"block text-sm font-medium leading-6 text-gray-900",attrs:{for:"first-name"}},[t._v("First name "),e("span",{staticClass:"text-red-700"},[t._v("*")])]),e("div",{staticClass:"mt-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.first_name,expression:"newContact.first_name"}],staticClass:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",attrs:{type:"text",name:"first-name",id:"first-name",autocomplete:"given-name"},domProps:{value:t.newContact.first_name},on:{input:function(e){e.target.composing||t.$set(t.newContact,"first_name",e.target.value)}}})])]),e("div",{staticClass:"sm:col-span-6"},[e("label",{staticClass:"block text-sm font-medium leading-6 text-gray-900",attrs:{for:"last-name"}},[t._v("Last name "),e("span",{staticClass:"text-red-700"},[t._v("*")])]),e("div",{staticClass:"mt-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.last_name,expression:"newContact.last_name"}],staticClass:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",attrs:{type:"text",name:"last-name",id:"last-name",autocomplete:"family-name"},domProps:{value:t.newContact.last_name},on:{input:function(e){e.target.composing||t.$set(t.newContact,"last_name",e.target.value)}}})])]),e("div",{staticClass:"sm:col-span-6"},[e("label",{staticClass:"block text-sm font-medium leading-6 text-gray-900",attrs:{for:"email"}},[t._v("Email address")]),e("div",{staticClass:"mt-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.email,expression:"newContact.email"}],staticClass:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",attrs:{id:"email",name:"email",type:"email",autocomplete:"email"},domProps:{value:t.newContact.email},on:{input:function(e){e.target.composing||t.$set(t.newContact,"email",e.target.value)}}})])]),e("div",{staticClass:"col-span-full"},[e("label",{staticClass:"block text-sm font-medium leading-6 text-gray-900",attrs:{for:"phonenumber"}},[t._v("Phone number")]),e("div",{staticClass:"mt-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.phone,expression:"newContact.phone"}],staticClass:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",attrs:{type:"tel",id:"phonenumber"},domProps:{value:t.newContact.phone},on:{input:function(e){e.target.composing||t.$set(t.newContact,"phone",e.target.value)}}})])])])])])])])],1)},g=[],p=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"flex justify-between items-center w-full top-0 left-0"},[e("div",{staticClass:"logo font-bold text-4xl"},[t._v("CODE CHALLENGE")]),e("ul",{staticClass:"navigation flex flex-row justify-between"},[e("li",[e("a",{on:{click:function(e){return t.logout()}}},[t._v("LOGOUT")])])])])},f=[],h=(a(7658),{methods:{logout(){this.$axios.post("auth/logout").then((t=>{console.log(t),t.data.ok&&(this.$store.dispatch("removeToken"),this.$router.push("/login"))})).catch((t=>{console.log(t)}))}}}),v=h,b=(0,l.Z)(v,p,f,!1,null,"53a27274",null),w=b.exports,x={name:"HomeView",components:{AppNavBarVue:w},data(){return{showModal:!1,showAlert:!1,viewContactInfo:!1,modalTitle:"",update:!1,textAlert:"",alertVariant:"success",fields:[{label:"id"},{label:"First Name"},{label:"Last Name"},{label:"Phone"},{label:"Email"},{label:"Actions"}],contacts:[],newContact:{id:"",first_name:"",last_name:"",phone:"",email:""}}},mounted(){this.getContacts()},methods:{getContacts(){this.$axios.get("contact/index").then((t=>{this.contacts=t.data.data})).catch((t=>{console.log(t)}))},addNewContact(){this.showAlert=!1,this.alertVariant="success",this.$axios.post("contact/store",this.newContact).then((t=>{t.data.ok&&(this.textAlert=t.data.message,this.showAlert=!0,this.showModal=!1,this.getContacts())})).catch((t=>{console.log(t)}))},getContactInformation(t){this.$axios.get(`contact/show/${t}`).then((t=>{this.modalTitle="Contact information",this.viewContactInfo=!0,this.newContact=t.data.data,this.showModal=!0})).catch((t=>console.log(t)))},openUpdateModal(t){this.newContact={...t},this.update=!0,this.showModal=!0},updateContact(){this.showAlert=!1,this.alertVariant="success",this.$axios.put(`contact/update/${this.newContact.id}`,this.newContact).then((t=>{t.data.ok&&(this.textAlert=t.data.message,this.showModal=!1,this.showAlert=!0,this.getContacts())})).catch((t=>{console.log(t)}))},deleteContact(t){this.showAlert=!1,this.variant=null,this.$axios.delete(`contact/delete/${t}`).then((t=>{t.data.ok&&(this.textAlert=t.data.message,this.alertVariant="success",this.showAlert=!0,this.getContacts())})).catch((t=>{this.alertVariant="danger",this.textAlert=t.response.data.message,this.showAlert=!0,console.log(t.response.data.message)}))},closeModal(){this.newContact.first_name="",this.newContact.last_name="",this.newContact.phone="",this.newContact.email="",this.viewContactInfo=!1,this.modalTitle="",this.update=!1}}},C=x,y=(0,l.Z)(C,m,g,!1,null,null,null),_=y.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},[t._m(0),e("div",{staticClass:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},[e("form",{staticClass:"space-y-6",attrs:{action:"#",method:"POST"}},[e("div",[e("label",{staticClass:"block text-sm font-medium leading-6 text-gray-900",attrs:{for:"email"}},[t._v("Email address")]),e("div",{staticClass:"mt-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.email,expression:"credentials.email"}],staticClass:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",attrs:{id:"email",name:"email",type:"email",autocomplete:"email",required:""},domProps:{value:t.credentials.email},on:{input:function(e){e.target.composing||t.$set(t.credentials,"email",e.target.value)}}})])]),e("div",[t._m(1),e("div",{staticClass:"mt-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"}],staticClass:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",attrs:{id:"password",name:"password",type:"password",autocomplete:"current-password",required:""},domProps:{value:t.credentials.password},on:{input:function(e){e.target.composing||t.$set(t.credentials,"password",e.target.value)}}})])]),e("div",[e("button",{staticClass:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.login()}}},[t._v(" Sign in ")])])]),e("p",{staticClass:"mt-10 text-center text-sm text-gray-500"},[t._v(" Not a member? "+t._s(" ")+" "),e("a",{staticClass:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",attrs:{href:"#"}},[t._v("Register")])])])])},M=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"sm:mx-auto sm:w-full sm:max-w-sm"},[e("h1",{staticClass:"font-bold text-4xl"},[t._v(" CODE CHALLENGE ")]),e("h2",{staticClass:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900"},[t._v(" Sign in to your account ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex items-center justify-between"},[e("label",{staticClass:"block text-sm font-medium leading-6 text-gray-900",attrs:{for:"password"}},[t._v("Password")])])}],T={data(){return{credentials:{email:"",password:""}}},methods:{login(){this.$axios.post("auth/login",this.credentials).then((t=>{const e=t.data.access_token;this.$store.dispatch("setToken",e),e&&this.$router.push("/")})).catch((t=>{console.log(t)}))}}},A=T,E=(0,l.Z)(A,k,M,!1,null,"9f6ba150",null),O=E.exports,$=a(3822);s["default"].use($.ZP);var j=new $.ZP.Store({state:{token:null},getters:{getToken:t=>t.token},mutations:{SET_TOKEN(t,e){t.token=e},REMOVE_TOKEN(t){t.token=null}},actions:{setToken({commit:t},e){t("SET_TOKEN",e),localStorage.setItem("token",e)},removeToken({commit:t}){t("REMOVE_TOKEN"),localStorage.removeItem("token")}},modules:{}});s["default"].use(u.ZP);const N=[{path:"/",name:"home",component:_,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:O},{path:"*",redirect:"/login"}],P=new u.ZP({routes:N});P.beforeEach(((t,e,a)=>{if(t.matched.some((t=>t.meta.requiresAuth))){const t=localStorage.getItem("token");t?(j.commit("SET_TOKEN",t),a()):a({path:"/login"})}else a()}));var S=P,I=a(4161);const L=I.Z.create({baseURL:"http://localhost:8000/api/"});L.interceptors.request.use((t=>{const e=j.getters.getToken;return e&&(t.headers.Authorization=`Bearer ${e}`),t}),(t=>Promise.reject(t)));var V=L,Z=a(4398),z=a.n(Z),q=a(2223);s["default"].config.productionTip=!1,s["default"].prototype.$axios=V;const B={"t-modal":{component:q.TModal,props:{fixedClasses:{overlay:"z-40  overflow-auto scrolling-touch left-0 top-0 bottom-0 right-0 w-full h-full fixed bg-opacity-50",wrapper:"relative mx-auto z-50 max-w-lg px-3 py-12",modal:"overflow-visible relative  rounded",body:"p-3",header:"border-b p-3 rounded-t",footer:" p-3 rounded-b",close:"flex items-center justify-center rounded-full absolute right-0 top-0 -m-3 h-8 w-8 transition duration-100 ease-in-out focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50"},classes:{overlay:"bg-black",wrapper:"",modal:"bg-white shadow",body:"p-3",header:"border-gray-100",footer:"bg-gray-100",close:"bg-gray-100 text-gray-600 hover:bg-gray-200",closeIcon:"fill-current h-4 w-4",overlayEnterClass:"opacity-0",overlayEnterActiveClass:"transition ease-out duration-100",overlayEnterToClass:"opacity-100",overlayLeaveClass:"opacity-100",overlayLeaveActiveClass:"transition ease-in duration-75",overlayLeaveToClass:"opacity-0",enterClass:"",enterActiveClass:"",enterToClass:"",leaveClass:"",leaveActiveClass:"",leaveToClass:""},variants:{danger:{overlay:"bg-red-100",header:"border-red-50 text-red-700",close:"bg-red-50 text-red-700 hover:bg-red-200 border-red-100 border",modal:"bg-white border border-red-100 shadow-lg",footer:"bg-red-50"}}}},"t-alert":{component:q.TAlert,props:{fixedClasses:{wrapper:"relative flex items-center p-4 border-l-4  rounded shadow-sm",body:"flex-grow",close:"absolute relative flex items-center justify-center ml-4 flex-shrink-0 w-6 h-6 transition duration-100 ease-in-out rounded  focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50",closeIcon:"fill-current h-4 w-4"},classes:{wrapper:"bg-blue-50 border-blue-500",body:"text-blue-700",close:"text-blue-500 hover:bg-blue-200"},variants:{danger:{wrapper:"bg-red-50 border-red-500",body:"text-red-700",close:"text-red-500 hover:bg-red-200"},success:{wrapper:"bg-green-50 border-green-500",body:"text-green-700",close:"text-green-500 hover:bg-green-200"}}}}};s["default"].use(z(),B),new s["default"]({router:S,store:j,render:t=>t(d)}).$mount("#app")}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=t,function(){var t=[];a.O=function(e,s,o,n){if(!s){var i=1/0;for(d=0;d<t.length;d++){s=t[d][0],o=t[d][1],n=t[d][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(r=!1,n<i&&(i=n));if(r){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[s,o,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,n,i=s[0],r=s[1],l=s[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(l)var d=l(a)}for(e&&e(s);c<i.length;c++)n=i[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(d)},s=self["webpackChunkcode_challenge"]=self["webpackChunkcode_challenge"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(493)}));s=a.O(s)})();
//# sourceMappingURL=app.96e00d71.js.map